{"version":3,"file":"ColorPickerGridCell.base.js","sourceRoot":"../src/","sources":["components/SwatchColorPicker/ColorPickerGridCell.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { ITheme, mergeStyleSets } from '../../Styling';\nimport { classNamesFunction, memoizeFunction } from '../../Utilities';\nimport { getColorFromString } from '../../utilities/color/getColorFromString';\nimport { ButtonGridCell } from '../../utilities/ButtonGrid/ButtonGridCell';\nimport { IButtonGridCellProps } from '../../utilities/ButtonGrid/ButtonGridCell.types';\nimport { getStyles as getActionButtonStyles } from '../Button/ActionButton/ActionButton.styles';\nimport { IButtonClassNames } from '../Button/BaseButton.classNames';\nimport {\n  IColorCellProps,\n  IColorPickerGridCellProps,\n  IColorPickerGridCellStyleProps,\n  IColorPickerGridCellStyles,\n} from './ColorPickerGridCell.types';\n\nconst getColorPickerGridCellButtonClassNames = memoizeFunction(\n  (\n    theme: ITheme,\n    className: string,\n    variantClassName: string,\n    iconClassName: string | undefined,\n    menuIconClassName: string | undefined,\n    disabled: boolean,\n    checked: boolean,\n    expanded: boolean,\n    isSplit: boolean | undefined,\n  ): IButtonClassNames => {\n    const styles = getActionButtonStyles(theme);\n    return mergeStyleSets({\n      root: [\n        'ms-Button',\n        styles.root,\n        variantClassName,\n        className,\n        checked && ['is-checked', styles.rootChecked],\n        disabled && ['is-disabled', styles.rootDisabled],\n        !disabled &&\n          !checked && {\n            selectors: {\n              ':hover': styles.rootHovered,\n              ':focus': styles.rootFocused,\n              ':active': styles.rootPressed,\n            },\n          },\n        disabled && checked && [styles.rootCheckedDisabled],\n        !disabled &&\n          checked && {\n            selectors: {\n              ':hover': styles.rootCheckedHovered,\n              ':active': styles.rootCheckedPressed,\n            },\n          },\n      ],\n      flexContainer: ['ms-Button-flexContainer', styles.flexContainer],\n    });\n  },\n);\n\nconst getClassNames = classNamesFunction<IColorPickerGridCellStyleProps, IColorPickerGridCellStyles>();\n\nclass ColorCell extends ButtonGridCell<IColorCellProps, IButtonGridCellProps<IColorCellProps>> {}\n\nexport class ColorPickerGridCellBase extends React.PureComponent<IColorPickerGridCellProps, {}> {\n  public static defaultProps: Partial<IColorPickerGridCellProps> = {\n    circle: true,\n    disabled: false,\n    selected: false,\n  };\n\n  private _classNames: { [key in keyof IColorPickerGridCellStyles]: string };\n\n  public render(): JSX.Element {\n    const {\n      item,\n      // eslint-disable-next-line deprecation/deprecation\n      idPrefix = this.props.id,\n      selected,\n      disabled,\n      styles,\n      theme,\n      circle,\n      color,\n      onClick,\n      onHover,\n      onFocus,\n      onMouseEnter,\n      onMouseMove,\n      onMouseLeave,\n      onWheel,\n      onKeyDown,\n      height,\n      width,\n      borderWidth,\n    } = this.props;\n\n    this._classNames = getClassNames(styles!, {\n      theme: theme!,\n      disabled,\n      selected,\n      circle,\n      isWhite: this._isWhiteCell(color),\n      height,\n      width,\n      borderWidth,\n    });\n\n    return (\n      <ColorCell\n        item={item}\n        id={`${idPrefix}-${item.id}-${item.index}`}\n        key={item.id}\n        disabled={disabled}\n        role={'gridcell'}\n        onRenderItem={this._onRenderColorOption}\n        selected={selected}\n        onClick={onClick}\n        onHover={onHover}\n        onFocus={onFocus}\n        label={item.label}\n        className={this._classNames.colorCell}\n        getClassNames={getColorPickerGridCellButtonClassNames}\n        index={item.index}\n        onMouseEnter={onMouseEnter}\n        onMouseMove={onMouseMove}\n        onMouseLeave={onMouseLeave}\n        onWheel={onWheel}\n        onKeyDown={onKeyDown}\n      />\n    );\n  }\n\n  /**\n   * Render the core of a color cell\n   * @returns - Element representing the core of the item\n   */\n  private _onRenderColorOption = (colorOption: IColorCellProps): JSX.Element => {\n    // Build an SVG for the cell with the given shape and color properties\n    return (\n      <svg\n        className={this._classNames.svg}\n        viewBox=\"0 0 20 20\"\n        fill={getColorFromString(colorOption.color as string)!.str}\n      >\n        {this.props.circle ? <circle cx=\"50%\" cy=\"50%\" r=\"50%\" /> : <rect width=\"100%\" height=\"100%\" />}\n      </svg>\n    );\n  };\n\n  /**\n   * Validate if the cell's color is white or not to apply whiteCell style\n   * @param inputColor - The color of the current cell\n   * @returns - Whether the cell's color is white or not.\n   */\n  private _isWhiteCell(inputColor: string | undefined): boolean {\n    const color = getColorFromString(inputColor!);\n    return color!.hex === 'ffffff';\n  }\n}\n"]}