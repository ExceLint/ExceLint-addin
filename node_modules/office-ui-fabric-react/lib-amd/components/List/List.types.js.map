{"version":3,"file":"List.types.js","sourceRoot":"../src/","sources":["components/List/List.types.ts"],"names":[],"mappings":";;;IAIa,QAAA,YAAY,GAAG;QAC1B;;WAEG;QACH,IAAI,EAAE,CAAM;QACZ;;WAEG;QACH,GAAG,EAAE,CAAM;QACX;;WAEG;QACH,MAAM,EAAE,CAAM;QACd;;WAEG;QACH,MAAM,EAAE,CAAM;KACf,CAAC","sourcesContent":["import * as React from 'react';\r\nimport { IRefObject, IRectangle, IRenderFunction } from '../../Utilities';\r\nimport { List } from './List';\r\n\r\nexport const ScrollToMode = {\r\n  /**\r\n   * Does not make any consideration to where in the viewport the item should align to.\r\n   */\r\n  auto: 0 as 0,\r\n  /**\r\n   * Attempts to scroll the list so the top of the desired item is aligned with the top of the viewport.\r\n   */\r\n  top: 1 as 1,\r\n  /**\r\n   * Attempts to scroll the list so the bottom of the desired item is aligned with the bottom of the viewport.\r\n   */\r\n  bottom: 2 as 2,\r\n  /**\r\n   * Attempts to scroll the list so the desired item is in the exact center of the viewport.\r\n   */\r\n  center: 3 as 3\r\n};\r\n\r\nexport type ScrollToMode = typeof ScrollToMode[keyof typeof ScrollToMode];\r\n\r\nexport interface IList {\r\n  /**\r\n   * Force the component to update.\r\n   */\r\n  forceUpdate: () => void;\r\n\r\n  /**\r\n   * Scroll to the given index. By default will bring the page the specified item is on into the view. If a callback\r\n   * to measure the height of an individual item is specified, will only scroll to bring the specific item into view.\r\n   *\r\n   * Note: with items of variable height and no passed in `getPageHeight` method, the list might jump after scrolling\r\n   * when windows before/ahead are being rendered, and the estimated height is replaced using actual elements.\r\n   *\r\n   * @param index - Index of item to scroll to\r\n   * @param measureItem - Optional callback to measure the height of an individual item\r\n   * @param scrollToMode - Optional defines the behavior of the scrolling alignment. Defaults to auto.\r\n   *  Note: The scrollToMode requires the measureItem callback is provided to function.\r\n   */\r\n  scrollToIndex: (index: number, measureItem?: (itemIndex: number) => number, scrollToMode?: ScrollToMode) => void;\r\n\r\n  /**\r\n   * Get the start index of the page that is currently in view\r\n   */\r\n  getStartItemIndexInView: () => number;\r\n}\r\n\r\nexport interface IListProps<T = any> extends React.HTMLAttributes<List<T> | HTMLDivElement> {\r\n  /**\r\n   * Optional callback to access the IList interface. Use this instead of ref for accessing\r\n   * the public methods and properties of the component.\r\n   */\r\n  componentRef?: IRefObject<IList>;\r\n\r\n  /** Optional classname to append to root list. */\r\n  className?: string;\r\n\r\n  /** Items to render. */\r\n  items?: T[];\r\n\r\n  /**\r\n   * Method to call when trying to render an item.\r\n   * @param item - The the data associated with the cell that is being rendered.\r\n   * @param index - The index of the cell being rendered.\r\n   * @param isScrolling - True if the list is being scrolled. May be useful for rendering a placeholder if your cells are complex.\r\n   */\r\n  onRenderCell?: (item?: T, index?: number, isScrolling?: boolean) => React.ReactNode;\r\n\r\n  /**\r\n   * Optional callback invoked when List rendering completed.\r\n   * This can be on initial mount or on re-render due to scrolling.\r\n   * This method will be called as a result of changes in List pages (added or removed),\r\n   * and after ALL the changes complete.\r\n   * To track individual page Add / Remove use onPageAdded / onPageRemoved instead.\r\n   * @param pages - The current array of pages in the List.\r\n   */\r\n  onPagesUpdated?: (pages: IPage<T>[]) => void;\r\n\r\n  /** Optional callback for monitoring when a page is added. */\r\n  onPageAdded?: (page: IPage<T>) => void;\r\n\r\n  /** Optional callback for monitoring when a page is removed. */\r\n  onPageRemoved?: (page: IPage<T>) => void;\r\n\r\n  /** Optional callback to get the item key, to be used on render. */\r\n  getKey?: (item: T, index?: number) => string;\r\n\r\n  /**\r\n   * Called by the list to get the specification for a page.\r\n   * Use this method to provide an allocation of items per page,\r\n   * as well as an estimated rendered height for the page.\r\n   * The list will use this to optimize virtualization.\r\n   */\r\n  getPageSpecification?: (itemIndex?: number, visibleRect?: IRectangle) => IPageSpecification;\r\n\r\n  /**\r\n   * Method called by the list to get how many items to render per page from specified index.\r\n   * In general, use `getPageSpecification` instead.\r\n   */\r\n  getItemCountForPage?: (itemIndex?: number, visibleRect?: IRectangle) => number;\r\n\r\n  /**\r\n   * Method called by the list to get the pixel height for a given page. By default, we measure the first\r\n   * page's height and default all other pages to that height when calculating the surface space. It is\r\n   * ideal to be able to adequately predict page heights in order to keep the surface space from jumping\r\n   * in pixels, which has been seen to cause browser performance issues.\r\n   * In general, use `getPageSpecification` instead.\r\n   */\r\n  getPageHeight?: (itemIndex?: number, visibleRect?: IRectangle) => number;\r\n\r\n  /**\r\n   * Method called by the list to derive the page style object. For spacer pages, the list will derive\r\n   * the height and passed in heights will be ignored.\r\n   */\r\n  getPageStyle?: (page: IPage<T>) => any;\r\n\r\n  /**\r\n   * In addition to the visible window, how many windowHeights should we render ahead.\r\n   * @defaultvalue 2\r\n   */\r\n  renderedWindowsAhead?: number;\r\n\r\n  /**\r\n   * In addition to the visible window, how many windowHeights should we render behind.\r\n   * @defaultvalue 2\r\n   */\r\n  renderedWindowsBehind?: number;\r\n\r\n  /** Index in items array to start rendering from. Defaults to 0. */\r\n  startIndex?: number;\r\n\r\n  /** Number of items to render. Defaults to items.length. */\r\n  renderCount?: number;\r\n\r\n  /**\r\n   * Boolean value to enable render page caching. This is an experimental performance optimization\r\n   * that is off by default.\r\n   * @defaultvalue false\r\n   */\r\n  usePageCache?: boolean;\r\n\r\n  /**\r\n   * Optional callback to determine whether the list should be rendered in full, or virtualized.\r\n   * Virtualization will add and remove pages of items as the user scrolls them into the visible range.\r\n   * This benefits larger list scenarios by reducing the DOM on the screen, but can negatively affect performance for smaller lists.\r\n   * The default implementation will virtualize when this callback is not provided.\r\n   */\r\n  onShouldVirtualize?: (props: IListProps<T>) => boolean;\r\n\r\n  /**\r\n   * The role to assign to the list root element.\r\n   * Use this to override the default assignment of 'list' to the root and 'listitem' to the cells.\r\n   */\r\n  role?: string;\r\n\r\n  /**\r\n   * Called when the List will render a page.\r\n   * Override this to control how cells are rendered within a page.\r\n   */\r\n  onRenderPage?: (pageProps: IPageProps<T>, defaultRender?: IRenderFunction<IPageProps<T>>) => React.ReactNode;\r\n}\r\n\r\nexport interface IPage<T = any> {\r\n  key: string;\r\n  items: T[] | undefined;\r\n  startIndex: number;\r\n  itemCount: number;\r\n  style: React.CSSProperties;\r\n  top: number;\r\n  height: number;\r\n  data?: any;\r\n  isSpacer?: boolean;\r\n}\r\n\r\nexport interface IPageProps<T = any> extends React.HTMLAttributes<HTMLDivElement>, React.ClassAttributes<HTMLDivElement> {\r\n  /**\r\n   * The role being assigned to the rendered page element by the list.\r\n   */\r\n  role?: string;\r\n  /**\r\n   * The allocation data for the page.\r\n   */\r\n  page: IPage<T>;\r\n}\r\n\r\nexport interface IPageSpecification {\r\n  /**\r\n   * The number of items to allocate to the page.\r\n   */\r\n  itemCount?: number;\r\n  /**\r\n   * The estimated pixel height of the page.\r\n   */\r\n  height?: number;\r\n  /**\r\n   * Data to pass through to the page when rendering.\r\n   */\r\n  data?: any;\r\n  /**\r\n   * The key to use when creating the page.\r\n   */\r\n  key?: string;\r\n}\r\n"]}