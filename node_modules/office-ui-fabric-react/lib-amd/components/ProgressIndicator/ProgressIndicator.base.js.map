{"version":3,"file":"ProgressIndicator.base.js","sourceRoot":"../src/","sources":["components/ProgressIndicator/ProgressIndicator.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport {\n  IProgressIndicatorProps,\n  IProgressIndicatorStyleProps,\n  IProgressIndicatorStyles,\n} from './ProgressIndicator.types';\n\nconst getClassNames = classNamesFunction<IProgressIndicatorStyleProps, IProgressIndicatorStyles>();\n\n// if the percentComplete is near 0, don't animate it.\n// This prevents animations on reset to 0 scenarios\nconst ZERO_THRESHOLD = 0.01;\n\n/**\n * ProgressIndicator with no default styles.\n * [Use the `styles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport class ProgressIndicatorBase extends React.Component<IProgressIndicatorProps, {}> {\n  public static defaultProps = {\n    label: '',\n    description: '',\n    width: 180,\n  };\n\n  public render() {\n    const {\n      barHeight,\n      className,\n      // eslint-disable-next-line deprecation/deprecation\n      label = this.props.title, // Fall back to deprecated value.\n      description,\n      styles,\n      theme,\n      progressHidden,\n      onRenderProgress = this._onRenderProgress,\n    } = this.props;\n\n    const percentComplete =\n      typeof this.props.percentComplete === 'number'\n        ? Math.min(100, Math.max(0, this.props.percentComplete * 100))\n        : undefined;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      barHeight,\n      indeterminate: percentComplete === undefined ? true : false,\n    });\n\n    return (\n      <div className={classNames.root}>\n        {label ? <div className={classNames.itemName}>{label}</div> : null}\n        {!progressHidden\n          ? onRenderProgress(\n              {\n                ...(this.props as IProgressIndicatorProps),\n                percentComplete: percentComplete,\n              },\n              this._onRenderProgress,\n            )\n          : null}\n        {description ? <div className={classNames.itemDescription}>{description}</div> : null}\n      </div>\n    );\n  }\n\n  private _onRenderProgress = (props: IProgressIndicatorProps): JSX.Element => {\n    const { ariaValueText, barHeight, className, styles, theme } = this.props;\n\n    const percentComplete =\n      typeof this.props.percentComplete === 'number'\n        ? Math.min(100, Math.max(0, this.props.percentComplete * 100))\n        : undefined;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      barHeight,\n      indeterminate: percentComplete === undefined ? true : false,\n    });\n\n    const progressBarStyles = {\n      width: percentComplete !== undefined ? percentComplete + '%' : undefined,\n      transition: percentComplete !== undefined && percentComplete < ZERO_THRESHOLD ? 'none' : undefined,\n    };\n\n    const ariaValueMin = percentComplete !== undefined ? 0 : undefined;\n    const ariaValueMax = percentComplete !== undefined ? 100 : undefined;\n    const ariaValueNow = percentComplete !== undefined ? Math.floor(percentComplete!) : undefined;\n\n    return (\n      <div className={classNames.itemProgress}>\n        <div className={classNames.progressTrack} />\n        <div\n          className={classNames.progressBar}\n          style={progressBarStyles}\n          role=\"progressbar\"\n          aria-valuemin={ariaValueMin}\n          aria-valuemax={ariaValueMax}\n          aria-valuenow={ariaValueNow}\n          aria-valuetext={ariaValueText}\n        />\n      </div>\n    );\n  };\n}\n"]}