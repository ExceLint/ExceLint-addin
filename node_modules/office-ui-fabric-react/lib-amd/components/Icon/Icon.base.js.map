{"version":3,"file":"Icon.base.js","sourceRoot":"../src/","sources":["components/Icon/Icon.base.tsx"],"names":[],"mappings":";;;IAYA,IAAM,aAAa,GAAG,8BAAkB,EAAgC,CAAC;IAEzE;QAA8B,oCAA2C;QACvE,kBAAY,KAAiB;YAA7B,YACE,kBAAM,KAAK,CAAC,SAIb;YAwCO,+BAAyB,GAAG,UAAC,KAAqB;gBACxD,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,IAAI,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,oBAAoB,EAAE;oBACvE,KAAI,CAAC,KAAK,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;iBACnD;gBACD,IAAI,KAAK,KAAK,4BAAc,CAAC,KAAK,EAAE;oBAClC,KAAI,CAAC,QAAQ,CAAC,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;iBACzC;YACH,CAAC,CAAC;YAlDA,KAAI,CAAC,KAAK,GAAG;gBACX,cAAc,EAAE,KAAK;aACtB,CAAC;;QACJ,CAAC;QAEM,yBAAM,GAAb;YACQ,IAAA,eAA4E,EAA1E,wBAAS,EAAE,wBAAS,EAAE,kBAAM,EAAE,sBAAQ,EAAE,8BAAY,EAAE,gBAAK,CAAgB;YACnF,IAAM,aAAa,GAAG,OAAO,QAAQ,KAAK,QAAQ,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC;YAC5E,IAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,qBAAQ,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,qBAAQ,CAAC,KAAK,CAAC;YAC3F,IAAA,mCAA4D,EAA1D,gCAAa,EAAE,sBAAQ,CAAoC;YAEnE,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,EAAE;gBACvC,KAAK,EAAE,KAAM;gBACb,SAAS,WAAA;gBACT,aAAa,eAAA;gBACb,OAAO,SAAA;gBACP,aAAa,eAAA;aACd,CAAC,CAAC;YAEH,IAAM,cAAc,GAAG,SAAS;gBAC9B,CAAC,CAAC;oBACE,YAAY,EAAE,SAAS;iBACxB;gBACH,CAAC,CAAC;oBACE,IAAI,EAAE,cAAc;iBACrB,CAAC;YAEN,IAAM,QAAQ,GAAG,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC;YACvC,IAAM,WAAW,GAAG,0BAAc,CAAC,IAAI,CAAC,KAAK,EAAE,iCAAqB,CAAC,CAAC;YAC9D,IAAA,0CAAc,CAAgB;YACtC,IAAM,UAAU,wBACX,IAAI,CAAC,KAAK,CAAC,UAAU,IACxB,oBAAoB,EAAE,IAAI,CAAC,yBAAyB,GACrD,CAAC;YACF,IAAM,SAAS,GAAG,CAAC,cAAc,IAAI,YAAY,CAAC,IAAI,aAAK,CAAC;YAE5D,OAAO,CACL,oBAAC,QAAQ,uCAAiB,QAAQ,IAAM,WAAW,EAAM,cAAc,IAAE,SAAS,EAAE,UAAU,CAAC,IAAI,KAChG,OAAO,CAAC,CAAC,CAAC,oBAAC,SAAS,uBAAK,UAAU,EAAI,CAAC,CAAC,CAAC,QAAQ,CAC1C,CACZ,CAAC;QACJ,CAAC;QAWO,kCAAe,GAAvB,UAAwB,IAAa;YACnC,IAAM,cAAc,GAAG,iBAAO,CAAC,IAAI,CAAC,IAAI;gBACtC,MAAM,EAAE;oBACN,SAAS,EAAE,SAAS;iBACrB;gBACD,IAAI,EAAE,SAAS;aAChB,CAAC;YAEF,OAAO;gBACL,QAAQ,EAAE,cAAc,CAAC,IAAI;gBAC7B,aAAa,EAAE,cAAc,CAAC,MAAM,CAAC,SAAS;aAC/C,CAAC;QACJ,CAAC;QACH,eAAC;IAAD,CAAC,AApED,CAA8B,KAAK,CAAC,aAAa,GAoEhD;IApEY,4BAAQ","sourcesContent":["import * as React from 'react';\r\n\r\nimport { IIconProps, IconType, IIconStyleProps, IIconStyles } from './Icon.types';\r\nimport { Image } from '../Image/Image';\r\nimport { ImageLoadState } from '../Image/Image.types';\r\nimport { getNativeProps, htmlElementProperties, classNamesFunction } from '../../Utilities';\r\nimport { getIcon } from '../../Styling';\r\n\r\nexport interface IIconState {\r\n  imageLoadError: boolean;\r\n}\r\n\r\nconst getClassNames = classNamesFunction<IIconStyleProps, IIconStyles>();\r\n\r\nexport class IconBase extends React.PureComponent<IIconProps, IIconState> {\r\n  constructor(props: IIconProps) {\r\n    super(props);\r\n    this.state = {\r\n      imageLoadError: false\r\n    };\r\n  }\r\n\r\n  public render() {\r\n    const { ariaLabel, className, styles, iconName, imageErrorAs, theme } = this.props;\r\n    const isPlaceholder = typeof iconName === 'string' && iconName.length === 0;\r\n    const isImage = this.props.iconType === IconType.image || this.props.iconType === IconType.Image;\r\n    const { iconClassName, children } = this._getIconContent(iconName);\r\n\r\n    const classNames = getClassNames(styles, {\r\n      theme: theme!,\r\n      className,\r\n      iconClassName,\r\n      isImage,\r\n      isPlaceholder\r\n    });\r\n\r\n    const containerProps = ariaLabel\r\n      ? {\r\n          'aria-label': ariaLabel\r\n        }\r\n      : {\r\n          role: 'presentation'\r\n        };\r\n\r\n    const RootType = isImage ? 'div' : 'i';\r\n    const nativeProps = getNativeProps(this.props, htmlElementProperties);\r\n    const { imageLoadError } = this.state;\r\n    const imageProps = {\r\n      ...this.props.imageProps,\r\n      onLoadingStateChange: this.onImageLoadingStateChange\r\n    };\r\n    const ImageType = (imageLoadError && imageErrorAs) || Image;\r\n\r\n    return (\r\n      <RootType data-icon-name={iconName} {...nativeProps} {...containerProps} className={classNames.root}>\r\n        {isImage ? <ImageType {...imageProps} /> : children}\r\n      </RootType>\r\n    );\r\n  }\r\n\r\n  private onImageLoadingStateChange = (state: ImageLoadState): void => {\r\n    if (this.props.imageProps && this.props.imageProps.onLoadingStateChange) {\r\n      this.props.imageProps.onLoadingStateChange(state);\r\n    }\r\n    if (state === ImageLoadState.error) {\r\n      this.setState({ imageLoadError: true });\r\n    }\r\n  };\r\n\r\n  private _getIconContent(name?: string) {\r\n    const iconDefinition = getIcon(name) || {\r\n      subset: {\r\n        className: undefined\r\n      },\r\n      code: undefined\r\n    };\r\n\r\n    return {\r\n      children: iconDefinition.code,\r\n      iconClassName: iconDefinition.subset.className\r\n    };\r\n  }\r\n}\r\n"]}