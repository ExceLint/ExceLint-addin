{"version":3,"file":"Persona.base.js","sourceRoot":"../src/","sources":["components/Persona/Persona.base.tsx"],"names":[],"mappings":";;;IAaA,IAAM,aAAa,GAAG,8BAAkB,EAAsC,CAAC;IAE/E;;;OAGG;IACH;QAAiC,uCAAkC;QAOjE,qBAAY,KAAoB;YAAhC,YACE,kBAAM,KAAK,CAAC,SAKb;YA6JO,0BAAoB,GAAG,UAAC,KAAwB;gBACtD,OAAO,oBAAC,yBAAW,uBAAK,KAAK,EAAI,CAAC;YACpC,CAAC,CAAC;YAlKA,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,EAAE;gBACzC,4BAAgB,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE,WAAW,EAAE,MAAM,EAAE,CAAC,CAAC;aAC7D;;QACH,CAAC;QAEM,4BAAM,GAAb;YACE,0EAA0E;YAC1E,IAAM,oBAAoB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YACjE,IAAM,sBAAsB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;YAC5E,IAAM,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YAC1E,IAAM,qBAAqB,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;YAEpE,IAAA,eAOQ,EANZ,0CAAkB,EAClB,4BAA4C,EAA5C,iEAA4C,EAC5C,2BAA0C,EAA1C,+DAA0C,EAC1C,6BAA8C,EAA9C,mEAA8C,EAC9C,4BAA4C,EAA5C,iEAA4C,EAC5C,2BAA+C,EAA/C,oEACY,CAAC;YACf,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAmB,CAAC;YAE5C,8GAA8G;YACxG,IAAA,eAwBQ,EAvBZ,0CAAkB,EAClB,wBAAS,EACT,wBAAS,EACT,kDAAsB,EACtB,sBAAQ,EACR,kBAAM,EACN,sBAAQ,EACR,gCAAa,EACb,wCAAiB,EACjB,oDAAuB,EACvB,sBAAQ,EACR,gCAAa,EACb,gCAAa,EACb,wDAAyB;YACzB,mDAAmD;YACnD,8BAAY,EACZ,sCAAgB,EAChB,sBAAQ,EACR,gCAAa,EACb,kCAAc,EACd,4DAA2B,EAC3B,wCAAiB,EACjB,gBACY,CAAC;YAEf,IAAM,gBAAgB,sBACpB,kBAAkB,oBAAA;gBAClB,sBAAsB,wBAAA;gBACtB,QAAQ,UAAA;gBACR,QAAQ,UAAA;gBACR,aAAa,eAAA;gBACb,iBAAiB,mBAAA;gBACjB,uBAAuB,yBAAA;gBACvB,QAAQ,UAAA;gBACR,aAAa,eAAA;gBACb,yBAAyB,2BAAA;gBACzB,YAAY,cAAA;gBACZ,gBAAgB,kBAAA;gBAChB,QAAQ,UAAA;gBACR,aAAa,eAAA;gBACb,2BAA2B,6BAAA;gBAC3B,IAAI,MAAA,EACJ,IAAI,EAAE,IAAI,CAAC,QAAQ,EAAE,EACrB,aAAa,eAAA;gBACb,cAAc,gBAAA,IACX,SAAS,CACb,CAAC;YAEF,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,EAAE;gBACvC,KAAK,EAAE,KAAM;gBACb,SAAS,WAAA;gBACT,iBAAiB,mBAAA;gBACjB,QAAQ,UAAA;gBACR,IAAI,MAAA;aACL,CAAC,CAAC;YAEH,IAAM,QAAQ,GAAG,0BAAc,CAAuC,IAAI,CAAC,KAAK,EAAE,yBAAa,CAAC,CAAC;YACjG,IAAM,cAAc,GAAG,CACrB,6BAAK,SAAS,EAAE,UAAU,CAAC,OAAO;gBAC/B,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,EAAE,mBAAmB,EAAE,oBAAoB,CAAC;gBACtF,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,aAAa,EAAE,qBAAqB,EAAE,sBAAsB,CAAC;gBAC5F,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,YAAY,EAAE,oBAAoB,EAAE,qBAAqB,CAAC;gBACzF,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,YAAY,EAAE,oBAAoB,EAAE,qBAAqB,CAAC;gBACzF,IAAI,CAAC,KAAK,CAAC,QAAQ,CAChB,CACP,CAAC;YAEF,OAAO,CACL,gDACM,QAAQ,IACZ,SAAS,EAAE,UAAU,CAAC,IAAI,EAC1B,KAAK,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,SAAS;gBAErE,mBAAmB,CAAC,gBAAgB,EAAE,IAAI,CAAC,oBAAoB,CAAC;gBAEjE,CAAC,CAAC,kBAAkB;oBAClB,IAAI,KAAK,2BAAW,CAAC,KAAK;oBAC1B,IAAI,KAAK,2BAAW,CAAC,MAAM;oBAC3B,IAAI,KAAK,2BAAW,CAAC,IAAI,CAAC;oBAC1B,cAAc;YAChB,2CAA2C;aAEvC,CACP,CAAC;QACJ,CAAC;QAED;;;;;;WAMG;QACK,oCAAc,GAAtB,UACE,UAAkB,EAClB,cAA0D,EAC1D,qBAAiE;YAEjE,OAAO,CACL,6BAAK,GAAG,EAAC,MAAM,EAAC,SAAS,EAAE,UAAU,IAClC,cAAc,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,qBAAqB,CAAC,CAChE,CACP,CAAC;QACJ,CAAC;QAED;;WAEG;QACK,8BAAQ,GAAhB;YACE,mDAAmD;YACnD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,IAAI,EAAE,CAAC;QACzD,CAAC;QAED;;;;WAIG;QACK,mCAAa,GAArB,UAAsB,IAAwB;YAC5C,8DAA8D;YAC9D,OAAO,IAAI;gBACT,CAAC,CAAC;oBACE,6BAA6B;oBAC7B,OAAO,CACL,oBAAC,qBAAW,IACV,OAAO,EAAE,IAAI,EACb,YAAY,EAAE,6BAAmB,CAAC,MAAM,EACxC,eAAe,EAAE,yBAAe,CAAC,WAAW,IAE3C,IAAI,CACO,CACf,CAAC;gBACJ,CAAC;gBACH,CAAC,CAAC,SAAS,CAAC;QAChB,CAAC;QAvKa,wBAAY,GAAkB;YAC1C,IAAI,EAAE,2BAAW,CAAC,MAAM;YACxB,QAAQ,EAAE,+BAAmB,CAAC,IAAI;YAClC,QAAQ,EAAE,EAAE;SACb,CAAC;QAwKJ,kBAAC;KAAA,AA7KD,CAAiC,KAAK,CAAC,SAAS,GA6K/C;IA7KY,kCAAW","sourcesContent":["import * as React from 'react';\nimport { warnDeprecations, classNamesFunction, divProperties, getNativeProps, IRenderFunction } from '../../Utilities';\nimport { TooltipHost, TooltipOverflowMode, DirectionalHint } from '../../Tooltip';\nimport { PersonaCoin } from './PersonaCoin/PersonaCoin';\nimport {\n  IPersonaProps,\n  IPersonaStyleProps,\n  IPersonaStyles,\n  PersonaPresence as PersonaPresenceEnum,\n  PersonaSize,\n  IPersonaCoinProps,\n} from './Persona.types';\n\nconst getClassNames = classNamesFunction<IPersonaStyleProps, IPersonaStyles>();\n\n/**\n * Persona with no default styles.\n * [Use the `styles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport class PersonaBase extends React.Component<IPersonaProps, {}> {\n  public static defaultProps: IPersonaProps = {\n    size: PersonaSize.size48,\n    presence: PersonaPresenceEnum.none,\n    imageAlt: '',\n  };\n\n  constructor(props: IPersonaProps) {\n    super(props);\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('Persona', props, { primaryText: 'text' });\n    }\n  }\n\n  public render(): JSX.Element {\n    // wrapping default render behavior based on various this.props properties\n    const _onRenderPrimaryText = this._onRenderText(this._getText());\n    const _onRenderSecondaryText = this._onRenderText(this.props.secondaryText);\n    const _onRenderTertiaryText = this._onRenderText(this.props.tertiaryText);\n    const _onRenderOptionalText = this._onRenderText(this.props.optionalText);\n\n    const {\n      hidePersonaDetails,\n      onRenderOptionalText = _onRenderOptionalText,\n      onRenderPrimaryText = _onRenderPrimaryText,\n      onRenderSecondaryText = _onRenderSecondaryText,\n      onRenderTertiaryText = _onRenderTertiaryText,\n      onRenderPersonaCoin = this._onRenderPersonaCoin,\n    } = this.props;\n    const size = this.props.size as PersonaSize;\n\n    // These properties are to be explicitly passed into PersonaCoin because they are the only props directly used\n    const {\n      allowPhoneInitials,\n      className,\n      coinProps,\n      showUnknownPersonaCoin,\n      coinSize,\n      styles,\n      imageAlt,\n      imageInitials,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      imageUrl,\n      initialsColor,\n      isOutOfOffice,\n      onPhotoLoadingStateChange,\n      // eslint-disable-next-line deprecation/deprecation\n      onRenderCoin,\n      onRenderInitials,\n      presence,\n      presenceTitle,\n      presenceColors,\n      showInitialsUntilImageLoads,\n      showSecondaryText,\n      theme,\n    } = this.props;\n\n    const personaCoinProps: IPersonaCoinProps = {\n      allowPhoneInitials,\n      showUnknownPersonaCoin,\n      coinSize,\n      imageAlt,\n      imageInitials,\n      imageShouldFadeIn,\n      imageShouldStartVisible,\n      imageUrl,\n      initialsColor,\n      onPhotoLoadingStateChange,\n      onRenderCoin,\n      onRenderInitials,\n      presence,\n      presenceTitle,\n      showInitialsUntilImageLoads,\n      size,\n      text: this._getText(),\n      isOutOfOffice,\n      presenceColors,\n      ...coinProps,\n    };\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      showSecondaryText,\n      presence,\n      size,\n    });\n\n    const divProps = getNativeProps<React.HTMLAttributes<HTMLDivElement>>(this.props, divProperties);\n    const personaDetails = (\n      <div className={classNames.details}>\n        {this._renderElement(classNames.primaryText, onRenderPrimaryText, _onRenderPrimaryText)}\n        {this._renderElement(classNames.secondaryText, onRenderSecondaryText, _onRenderSecondaryText)}\n        {this._renderElement(classNames.tertiaryText, onRenderTertiaryText, _onRenderTertiaryText)}\n        {this._renderElement(classNames.optionalText, onRenderOptionalText, _onRenderOptionalText)}\n        {this.props.children}\n      </div>\n    );\n\n    return (\n      <div\n        {...divProps}\n        className={classNames.root}\n        style={coinSize ? { height: coinSize, minWidth: coinSize } : undefined}\n      >\n        {onRenderPersonaCoin(personaCoinProps, this._onRenderPersonaCoin)}\n        {/* eslint-disable deprecation/deprecation */\n        (!hidePersonaDetails ||\n          size === PersonaSize.size8 ||\n          size === PersonaSize.size10 ||\n          size === PersonaSize.tiny) &&\n          personaDetails\n        /* eslint-enable deprecation/deprecation */\n        }\n      </div>\n    );\n  }\n\n  /**\n   * Renders various types of Text (primaryText, secondaryText, etc)\n   * based on the classNames passed\n   * @param classNames - element className\n   * @param renderFunction - render function\n   * @param defaultRenderFunction - default render function\n   */\n  private _renderElement(\n    classNames: string,\n    renderFunction: IRenderFunction<IPersonaProps> | undefined,\n    defaultRenderFunction: IRenderFunction<IPersonaProps> | undefined,\n  ): JSX.Element {\n    return (\n      <div dir=\"auto\" className={classNames}>\n        {renderFunction && renderFunction(this.props, defaultRenderFunction)}\n      </div>\n    );\n  }\n\n  /**\n   * Deprecation helper for getting text.\n   */\n  private _getText(): string {\n    // eslint-disable-next-line deprecation/deprecation\n    return this.props.text || this.props.primaryText || '';\n  }\n\n  /**\n   * using closure to wrap the default render behavior\n   * to make it independent of the type of text passed\n   * @param text - text to render\n   */\n  private _onRenderText(text: string | undefined): IRenderFunction<IPersonaProps> | undefined {\n    // return default render behaviour for valid text or undefined\n    return text\n      ? (): JSX.Element => {\n          // default onRender behaviour\n          return (\n            <TooltipHost\n              content={text}\n              overflowMode={TooltipOverflowMode.Parent}\n              directionalHint={DirectionalHint.topLeftEdge}\n            >\n              {text}\n            </TooltipHost>\n          );\n        }\n      : undefined;\n  }\n\n  private _onRenderPersonaCoin = (props: IPersonaCoinProps): JSX.Element | null => {\n    return <PersonaCoin {...props} />;\n  };\n}\n"]}