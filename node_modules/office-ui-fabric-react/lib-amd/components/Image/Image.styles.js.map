{"version":3,"file":"Image.styles.js","sourceRoot":"../src/","sources":["components/Image/Image.styles.ts"],"names":[],"mappings":";;;IAIA,IAAM,gBAAgB,GAAG;QACvB,IAAI,EAAE,UAAU;QAChB,iBAAiB,EAAE,yBAAyB;QAC5C,KAAK,EAAE,gBAAgB;QACvB,WAAW,EAAE,wBAAwB;QACrC,YAAY,EAAE,yBAAyB;QACvC,UAAU,EAAE,uBAAuB;QACnC,gBAAgB,EAAE,6BAA6B;QAC/C,SAAS,EAAE,sBAAsB;QACjC,cAAc,EAAE,2BAA2B;QAC3C,aAAa,EAAE,0BAA0B;KAC1C,CAAC;IAEW,QAAA,SAAS,GAAG,UAAC,KAAuB;QAE7C,IAAA,2BAAS,EACT,mBAAK,EACL,qBAAM,EACN,mCAAa,EACb,yBAAQ,EACR,iCAAY,EACZ,6CAAkB,EAClB,+BAAW,EACX,yBAAQ,EACR,2BAAS,EACT,uBAAO,EACP,mCAAa,EACb,qBAAM,EACN,uBAAO,EACP,mCAAa,EACb,mBAAK,CACG;QAEV,IAAM,UAAU,GAAG,6BAAmB,CAAC,gBAAgB,EAAE,KAAK,CAAC,CAAC;QAEhE,IAAM,cAAc,GAAW;YAC7B,QAAQ,EAAE,UAAU;YACpB,IAAI,EAAE,mBAAmB;YACzB,GAAG,EAAE,KAAK;YACV,SAAS,EAAE,sBAAsB,CAAC,yDAAyD;SAC5F,CAAC;QAEF,8FAA8F;QAC9F,IAAM,MAAM,GAAuB,qBAAS,EAAE,CAAC;QAC/C,IAAM,iBAAiB,GAAY,MAAM,KAAK,SAAS,IAAI,MAAM,CAAC,SAAS,CAAC,gBAAgB,KAAK,SAAS,CAAC;QAC3G,IAAM,uBAAuB,GAC3B,CAAC,SAAS,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,CAAC;QAElI,OAAO;YACL,IAAI,EAAE;gBACJ,UAAU,CAAC,IAAI;gBACf,KAAK,CAAC,KAAK,CAAC,MAAM;gBAClB;oBACE,QAAQ,EAAE,QAAQ;iBACnB;gBACD,aAAa,IAAI;oBACf,UAAU,CAAC,iBAAiB;oBAC5B;wBACE,MAAM,EAAE,MAAM;wBACd,KAAK,EAAE,MAAM;qBACd;iBACF;gBACD,CAAC,QAAQ,IAAI,SAAS,IAAI,OAAO,IAAI,aAAa,CAAC,IAAI;oBACrD,QAAQ,EAAE,UAAU;iBACrB;gBACD,SAAS;aACV;YACD,KAAK,EAAE;gBACL,UAAU,CAAC,KAAK;gBAChB;oBACE,OAAO,EAAE,OAAO;oBAChB,OAAO,EAAE,CAAC;iBACX;gBACD,QAAQ,IAAI;oBACV,WAAW;oBACX;wBACE,OAAO,EAAE,CAAC;qBACX;iBACF;gBACD,QAAQ,IAAI,CAAC,UAAU,CAAC,WAAW,EAAE,cAAc,CAAC;gBACpD,SAAS,IAAI;oBACX,UAAU,CAAC,YAAY;oBACvB,iBAAiB,IAAI;wBACnB,KAAK,EAAE,MAAM;wBACb,MAAM,EAAE,MAAM;wBACd,SAAS,EAAE,SAAS;qBACrB;oBACD,CAAC,iBAAiB,IAAI,uBAAuB;oBAC7C,cAAc;iBACf;gBACD,OAAO,IAAI;oBACT,UAAU,CAAC,UAAU;oBACrB,iBAAiB,IAAI;wBACnB,KAAK,EAAE,MAAM;wBACb,MAAM,EAAE,MAAM;wBACd,SAAS,EAAE,OAAO;qBACnB;oBACD,CAAC,iBAAiB,IAAI,uBAAuB;oBAC7C,cAAc;iBACf;gBACD,aAAa,IAAI;oBACf,UAAU,CAAC,gBAAgB;oBAC3B,WAAW,IAAI;wBACb,SAAS,EAAE,MAAM;qBAClB;oBACD,CAAC,WAAW,IAAI;wBACd,QAAQ,EAAE,MAAM;qBACjB;oBACD,cAAc;iBACf;gBACD,MAAM,IAAI;oBACR,UAAU,CAAC,SAAS;oBACpB;wBACE,KAAK,EAAE,MAAM;wBACb,MAAM,EAAE,MAAM;qBACf;iBACF;gBACD,aAAa,IAAI;oBACf,CAAC,CAAC,KAAK;wBACL,CAAC,MAAM,IAAI;wBACT,MAAM,EAAE,MAAM;wBACd,KAAK,EAAE,MAAM;qBACd;oBACH,CAAC,KAAK;wBACJ,CAAC,CAAC,MAAM,IAAI;wBACV,MAAM,EAAE,MAAM;wBACd,KAAK,EAAE,MAAM;qBACd;oBACH,CAAC,CAAC,KAAK;wBACL,CAAC,CAAC,MAAM,IAAI;wBACV,MAAM,EAAE,MAAM;wBACd,KAAK,EAAE,MAAM;qBACd;iBACJ;gBACD,QAAQ,IAAI,YAAY,IAAI,CAAC,kBAAkB,IAAI,6BAAmB,CAAC,SAAS;gBAChF,WAAW,IAAI,UAAU,CAAC,cAAc;gBACxC,CAAC,WAAW,IAAI,UAAU,CAAC,aAAa;gBACxC,CAAC,QAAQ,IAAI,cAAc;gBAC3B,YAAY,IAAI,WAAW;gBAC3B,OAAO,IAAI,UAAU;aACtB;SACF,CAAC;IACJ,CAAC,CAAC","sourcesContent":["import { AnimationClassNames, getGlobalClassNames, IStyle } from '../../Styling';\r\nimport { IImageStyleProps, IImageStyles } from './Image.types';\r\nimport { getWindow } from '../../Utilities';\r\n\r\nconst GlobalClassNames = {\r\n  root: 'ms-Image',\r\n  rootMaximizeFrame: 'ms-Image--maximizeFrame',\r\n  image: 'ms-Image-image',\r\n  imageCenter: 'ms-Image-image--center',\r\n  imageContain: 'ms-Image-image--contain',\r\n  imageCover: 'ms-Image-image--cover',\r\n  imageCenterCover: 'ms-Image-image--centerCover',\r\n  imageNone: 'ms-Image-image--none',\r\n  imageLandscape: 'ms-Image-image--landscape',\r\n  imagePortrait: 'ms-Image-image--portrait'\r\n};\r\n\r\nexport const getStyles = (props: IImageStyleProps): IImageStyles => {\r\n  const {\r\n    className,\r\n    width,\r\n    height,\r\n    maximizeFrame,\r\n    isLoaded,\r\n    shouldFadeIn,\r\n    shouldStartVisible,\r\n    isLandscape,\r\n    isCenter,\r\n    isContain,\r\n    isCover,\r\n    isCenterCover,\r\n    isNone,\r\n    isError,\r\n    isNotImageFit,\r\n    theme\r\n  } = props;\r\n\r\n  const classNames = getGlobalClassNames(GlobalClassNames, theme);\r\n\r\n  const ImageFitStyles: IStyle = {\r\n    position: 'absolute',\r\n    left: '50% /* @noflip */',\r\n    top: '50%',\r\n    transform: 'translate(-50%,-50%)' // @todo test RTL renders transform: translate(50%,-50%);\r\n  };\r\n\r\n  // Cut the mustard using msMaxTouchPoints to detect IE11 which does not support CSS object-fit\r\n  const window: Window | undefined = getWindow();\r\n  const supportsObjectFit: boolean = window !== undefined && window.navigator.msMaxTouchPoints === undefined;\r\n  const fallbackObjectFitStyles =\r\n    (isContain && isLandscape) || (isCover && !isLandscape) ? { width: '100%', height: 'auto' } : { width: 'auto', height: '100%' };\r\n\r\n  return {\r\n    root: [\r\n      classNames.root,\r\n      theme.fonts.medium,\r\n      {\r\n        overflow: 'hidden'\r\n      },\r\n      maximizeFrame && [\r\n        classNames.rootMaximizeFrame,\r\n        {\r\n          height: '100%',\r\n          width: '100%'\r\n        }\r\n      ],\r\n      (isCenter || isContain || isCover || isCenterCover) && {\r\n        position: 'relative'\r\n      },\r\n      className\r\n    ],\r\n    image: [\r\n      classNames.image,\r\n      {\r\n        display: 'block',\r\n        opacity: 0\r\n      },\r\n      isLoaded && [\r\n        'is-loaded',\r\n        {\r\n          opacity: 1\r\n        }\r\n      ],\r\n      isCenter && [classNames.imageCenter, ImageFitStyles],\r\n      isContain && [\r\n        classNames.imageContain,\r\n        supportsObjectFit && {\r\n          width: '100%',\r\n          height: '100%',\r\n          objectFit: 'contain'\r\n        },\r\n        !supportsObjectFit && fallbackObjectFitStyles,\r\n        ImageFitStyles\r\n      ],\r\n      isCover && [\r\n        classNames.imageCover,\r\n        supportsObjectFit && {\r\n          width: '100%',\r\n          height: '100%',\r\n          objectFit: 'cover'\r\n        },\r\n        !supportsObjectFit && fallbackObjectFitStyles,\r\n        ImageFitStyles\r\n      ],\r\n      isCenterCover && [\r\n        classNames.imageCenterCover,\r\n        isLandscape && {\r\n          maxHeight: '100%'\r\n        },\r\n        !isLandscape && {\r\n          maxWidth: '100%'\r\n        },\r\n        ImageFitStyles\r\n      ],\r\n      isNone && [\r\n        classNames.imageNone,\r\n        {\r\n          width: 'auto',\r\n          height: 'auto'\r\n        }\r\n      ],\r\n      isNotImageFit && [\r\n        !!width &&\r\n          !height && {\r\n            height: 'auto',\r\n            width: '100%'\r\n          },\r\n        !width &&\r\n          !!height && {\r\n            height: '100%',\r\n            width: 'auto'\r\n          },\r\n        !!width &&\r\n          !!height && {\r\n            height: '100%',\r\n            width: '100%'\r\n          }\r\n      ],\r\n      isLoaded && shouldFadeIn && !shouldStartVisible && AnimationClassNames.fadeIn400,\r\n      isLandscape && classNames.imageLandscape,\r\n      !isLandscape && classNames.imagePortrait,\r\n      !isLoaded && 'is-notLoaded',\r\n      shouldFadeIn && 'is-fadeIn',\r\n      isError && 'is-error'\r\n    ]\r\n  };\r\n};\r\n"]}