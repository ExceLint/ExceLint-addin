{"version":3,"file":"testUtilities.js","sourceRoot":"../src/","sources":["common/testUtilities.ts"],"names":[],"mappings":";;;IAOA,mBAA0B,OAA+B,EAAE,SAAiB;QAC1E,OAAO,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,WAAW,CAAC,UAAC,IAA4B,IAAK,OAAA,OAAO,IAAI,CAAC,IAAI,EAAE,KAAK,QAAQ,EAA/B,CAA+B,CAAC,CAAC;IAChH,CAAC;IAFD,8BAEC;IAED,qBAA4B,OAA+B,EAAE,SAAiB,EAAE,CAAS;QACvF,MAAM,CAAC,SAAS,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;IAC1D,CAAC;IAFD,kCAEC;IAED,mBAA0B,OAA+B,EAAE,SAAiB;QAC1E,WAAW,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;IACrC,CAAC;IAFD,8BAEC;IAED,uBAA8B,OAA+B,EAAE,SAAiB;QAC9E,WAAW,CAAC,OAAO,EAAE,SAAS,EAAE,CAAC,CAAC,CAAC;IACrC,CAAC;IAFD,sCAEC;IAED,eAAsB,WAAmB;QACvC,OAAO,IAAI,OAAO,CAAO,UAAA,OAAO,IAAI,OAAA,UAAU,CAAC,OAAO,EAAE,WAAW,CAAC,EAAhC,CAAgC,CAAC,CAAC;IACxE,CAAC;IAFD,sBAEC;IAED;;;OAGG;IACH,uBAAmF,OAA8B;QAC/G,IAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;QAClC,OAAO,cAAK,CAAC,OAAO,EAAE,EAAE,QAAQ,EAAE,MAAM,EAAE,CAAC,CAAC;IAC9C,CAAC;IAJD,sCAIC;IAED,4BAAmC,OAAgC;QACjE,IAAM,SAAS,GAAG,cAAc,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;QAC7D,IAAM,WAAW,GAAG,QAAQ,CAAC,WAAW,CAAC,SAAgC,CAAC,CAAC;QAC3E,OAAO,WAA0B,CAAC;IACpC,CAAC;IAJD,gDAIC;IAED,mBAA0B,WAAwB;QAAxB,4BAAA,EAAA,gBAAwB;QAChD,IAAM,MAAM,GAAgB,EAAE,KAAK,EAAE,WAAW,EAAsB,CAAC;QACvE,OAAO,EAAE,MAAM,QAAA,EAAE,CAAC;IACpB,CAAC;IAHD,8BAGC","sourcesContent":["import { ReactWrapper, mount } from 'enzyme';\r\nimport { Component } from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nimport * as ReactTestUtils from 'react-dom/test-utils';\r\n\r\nexport type __TS_2_8_WORKAROUND_COMPONENT__ = Component;\r\n\r\nexport function findNodes(wrapper: ReactWrapper<any, any>, className: string): ReactWrapper<any, any> {\r\n  return wrapper.find(className).filterWhere((node: ReactWrapper<any, any>) => typeof node.type() === 'string');\r\n}\r\n\r\nexport function expectNodes(wrapper: ReactWrapper<any, any>, className: string, n: number): void {\r\n  expect(findNodes(wrapper, className).length).toEqual(n);\r\n}\r\n\r\nexport function expectOne(wrapper: ReactWrapper<any, any>, className: string): void {\r\n  expectNodes(wrapper, className, 1);\r\n}\r\n\r\nexport function expectMissing(wrapper: ReactWrapper<any, any>, className: string): void {\r\n  expectNodes(wrapper, className, 0);\r\n}\r\n\r\nexport function delay(millisecond: number): Promise<void> {\r\n  return new Promise<void>(resolve => setTimeout(resolve, millisecond));\r\n}\r\n\r\n/**\r\n * Mounts the element attached to a child of document.body. This is primarily for tests involving\r\n * event handlers (which don't work right unless the element is attached).\r\n */\r\nexport function mountAttached<C extends Component, P = C['props'], S = C['state']>(element: React.ReactElement<P>): ReactWrapper<P, S, C> {\r\n  const parent = document.createElement('div');\r\n  document.body.appendChild(parent);\r\n  return mount(element, { attachTo: parent });\r\n}\r\n\r\nexport function renderIntoDocument(element: React.ReactElement<any>): HTMLElement {\r\n  const component = ReactTestUtils.renderIntoDocument(element);\r\n  const renderedDOM = ReactDOM.findDOMNode(component as React.ReactInstance);\r\n  return renderedDOM as HTMLElement;\r\n}\r\n\r\nexport function mockEvent(targetValue: string = ''): ReactTestUtils.SyntheticEventData {\r\n  const target: EventTarget = { value: targetValue } as HTMLInputElement;\r\n  return { target };\r\n}\r\n"]}