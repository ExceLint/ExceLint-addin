{"version":3,"file":"ProgressIndicator.base.js","sourceRoot":"../src/","sources":["components/ProgressIndicator/ProgressIndicator.base.tsx"],"names":[],"mappings":";;;AAAA,6BAA+B;AAC/B,6CAAqD;AAOrD,IAAM,aAAa,GAAG,8BAAkB,EAA0D,CAAC;AAEnG,sDAAsD;AACtD,mDAAmD;AACnD,IAAM,cAAc,GAAG,IAAI,CAAC;AAE5B;;;GAGG;AACH;IAA2C,iDAA4C;IAAvF;QAAA,qEAwFC;QAvCS,uBAAiB,GAAG,UAAC,KAA8B;YACnD,IAAA,gBAAmE,EAAjE,gCAAa,EAAE,wBAAS,EAAE,wBAAS,EAAE,kBAAM,EAAE,gBAAoB,CAAC;YAE1E,IAAM,eAAe,GACnB,OAAO,KAAI,CAAC,KAAK,CAAC,eAAe,KAAK,QAAQ;gBAC5C,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAI,CAAC,KAAK,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC;gBAC9D,CAAC,CAAC,SAAS,CAAC;YAEhB,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,EAAE;gBACvC,KAAK,EAAE,KAAM;gBACb,SAAS,WAAA;gBACT,SAAS,WAAA;gBACT,aAAa,EAAE,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;aAC5D,CAAC,CAAC;YAEH,IAAM,iBAAiB,GAAG;gBACxB,KAAK,EAAE,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC,CAAC,SAAS;gBACxE,UAAU,EAAE,eAAe,KAAK,SAAS,IAAI,eAAe,GAAG,cAAc,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS;aACnG,CAAC;YAEF,IAAM,YAAY,GAAG,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YACnE,IAAM,YAAY,GAAG,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,CAAC;YACrE,IAAM,YAAY,GAAG,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,eAAgB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAE9F,OAAO,CACL,6BAAK,SAAS,EAAE,UAAU,CAAC,YAAY;gBACrC,6BAAK,SAAS,EAAE,UAAU,CAAC,aAAa,GAAI;gBAC5C,6BACE,SAAS,EAAE,UAAU,CAAC,WAAW,EACjC,KAAK,EAAE,iBAAiB,EACxB,IAAI,EAAC,aAAa,mBACH,YAAY,mBACZ,YAAY,mBACZ,YAAY,oBACX,aAAa,GAC7B,CACE,CACP,CAAC;QACJ,CAAC,CAAC;;IACJ,CAAC;IAjFQ,sCAAM,GAAb;QACQ,IAAA,eAUQ,EATZ,wBAAS,EACT,wBAAS;QACT,mDAAmD;QACnD,aAAwB;QADxB,mDAAmD;QACnD,6CAAwB,EAAE,iCAAiC;QAC3D,4BAAW,EACX,kBAAM,EACN,gBAAK,EACL,kCAAc,EACd,wBAAyC,EAAzC,8DACY,CAAC;QAEf,IAAM,eAAe,GACnB,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,KAAK,QAAQ;YAC5C,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,GAAG,CAAC,CAAC;YAC9D,CAAC,CAAC,SAAS,CAAC;QAEhB,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,EAAE;YACvC,KAAK,EAAE,KAAM;YACb,SAAS,WAAA;YACT,SAAS,WAAA;YACT,aAAa,EAAE,eAAe,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK;SAC5D,CAAC,CAAC;QAEH,OAAO,CACL,6BAAK,SAAS,EAAE,UAAU,CAAC,IAAI;YAC5B,KAAK,CAAC,CAAC,CAAC,6BAAK,SAAS,EAAE,UAAU,CAAC,QAAQ,IAAG,KAAK,CAAO,CAAC,CAAC,CAAC,IAAI;YACjE,CAAC,cAAc;gBACd,CAAC,CAAC,gBAAgB,uCAER,IAAI,CAAC,KAAiC,KAC1C,eAAe,EAAE,eAAe,KAElC,IAAI,CAAC,iBAAiB,CACvB;gBACH,CAAC,CAAC,IAAI;YACP,WAAW,CAAC,CAAC,CAAC,6BAAK,SAAS,EAAE,UAAU,CAAC,eAAe,IAAG,WAAW,CAAO,CAAC,CAAC,CAAC,IAAI,CACjF,CACP,CAAC;IACJ,CAAC;IA9Ca,kCAAY,GAAG;QAC3B,KAAK,EAAE,EAAE;QACT,WAAW,EAAE,EAAE;QACf,KAAK,EAAE,GAAG;KACX,CAAC;IAmFJ,4BAAC;CAAA,AAxFD,CAA2C,KAAK,CAAC,SAAS,GAwFzD;AAxFY,sDAAqB","sourcesContent":["import * as React from 'react';\nimport { classNamesFunction } from '../../Utilities';\nimport {\n  IProgressIndicatorProps,\n  IProgressIndicatorStyleProps,\n  IProgressIndicatorStyles,\n} from './ProgressIndicator.types';\n\nconst getClassNames = classNamesFunction<IProgressIndicatorStyleProps, IProgressIndicatorStyles>();\n\n// if the percentComplete is near 0, don't animate it.\n// This prevents animations on reset to 0 scenarios\nconst ZERO_THRESHOLD = 0.01;\n\n/**\n * ProgressIndicator with no default styles.\n * [Use the `styles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\nexport class ProgressIndicatorBase extends React.Component<IProgressIndicatorProps, {}> {\n  public static defaultProps = {\n    label: '',\n    description: '',\n    width: 180,\n  };\n\n  public render() {\n    const {\n      barHeight,\n      className,\n      // eslint-disable-next-line deprecation/deprecation\n      label = this.props.title, // Fall back to deprecated value.\n      description,\n      styles,\n      theme,\n      progressHidden,\n      onRenderProgress = this._onRenderProgress,\n    } = this.props;\n\n    const percentComplete =\n      typeof this.props.percentComplete === 'number'\n        ? Math.min(100, Math.max(0, this.props.percentComplete * 100))\n        : undefined;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      barHeight,\n      indeterminate: percentComplete === undefined ? true : false,\n    });\n\n    return (\n      <div className={classNames.root}>\n        {label ? <div className={classNames.itemName}>{label}</div> : null}\n        {!progressHidden\n          ? onRenderProgress(\n              {\n                ...(this.props as IProgressIndicatorProps),\n                percentComplete: percentComplete,\n              },\n              this._onRenderProgress,\n            )\n          : null}\n        {description ? <div className={classNames.itemDescription}>{description}</div> : null}\n      </div>\n    );\n  }\n\n  private _onRenderProgress = (props: IProgressIndicatorProps): JSX.Element => {\n    const { ariaValueText, barHeight, className, styles, theme } = this.props;\n\n    const percentComplete =\n      typeof this.props.percentComplete === 'number'\n        ? Math.min(100, Math.max(0, this.props.percentComplete * 100))\n        : undefined;\n\n    const classNames = getClassNames(styles, {\n      theme: theme!,\n      className,\n      barHeight,\n      indeterminate: percentComplete === undefined ? true : false,\n    });\n\n    const progressBarStyles = {\n      width: percentComplete !== undefined ? percentComplete + '%' : undefined,\n      transition: percentComplete !== undefined && percentComplete < ZERO_THRESHOLD ? 'none' : undefined,\n    };\n\n    const ariaValueMin = percentComplete !== undefined ? 0 : undefined;\n    const ariaValueMax = percentComplete !== undefined ? 100 : undefined;\n    const ariaValueNow = percentComplete !== undefined ? Math.floor(percentComplete!) : undefined;\n\n    return (\n      <div className={classNames.itemProgress}>\n        <div className={classNames.progressTrack} />\n        <div\n          className={classNames.progressBar}\n          style={progressBarStyles}\n          role=\"progressbar\"\n          aria-valuemin={ariaValueMin}\n          aria-valuemax={ariaValueMax}\n          aria-valuenow={ariaValueNow}\n          aria-valuetext={ariaValueText}\n        />\n      </div>\n    );\n  };\n}\n"]}