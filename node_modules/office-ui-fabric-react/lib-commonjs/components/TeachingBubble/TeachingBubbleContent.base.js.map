{"version":3,"file":"TeachingBubbleContent.base.js","sourceRoot":"../src/","sources":["components/TeachingBubble/TeachingBubbleContent.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { BaseComponent, classNamesFunction, KeyCodes } from '../../Utilities';\r\nimport { ITeachingBubbleProps, ITeachingBubbleStyleProps, ITeachingBubbleStyles } from './TeachingBubble.types';\r\nimport { ITeachingBubbleState } from './TeachingBubble.base';\r\nimport { PrimaryButton, DefaultButton, IconButton } from '../../Button';\r\nimport { Image, ImageFit } from '../../Image';\r\n\r\nconst getClassNames = classNamesFunction<ITeachingBubbleStyleProps, ITeachingBubbleStyles>();\r\n\r\nexport class TeachingBubbleContentBase extends BaseComponent<ITeachingBubbleProps, ITeachingBubbleState> {\r\n  // Specify default props values\r\n  public static defaultProps = {\r\n    hasCondensedHeadline: false,\r\n    imageProps: {\r\n      imageFit: ImageFit.cover,\r\n      width: 364,\r\n      height: 130\r\n    }\r\n  };\r\n\r\n  public rootElement = React.createRef<HTMLDivElement>();\r\n\r\n  constructor(props: ITeachingBubbleProps) {\r\n    super(props);\r\n\r\n    this.state = {};\r\n  }\r\n\r\n  public componentDidMount(): void {\r\n    if (this.props.onDismiss) {\r\n      document.addEventListener('keydown', this._onKeyDown, false);\r\n    }\r\n  }\r\n\r\n  public componentWillUnmount(): void {\r\n    if (this.props.onDismiss) {\r\n      document.removeEventListener('keydown', this._onKeyDown);\r\n    }\r\n  }\r\n\r\n  public focus(): void {\r\n    if (this.rootElement.current) {\r\n      this.rootElement.current.focus();\r\n    }\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    const {\r\n      children,\r\n      illustrationImage,\r\n      primaryButtonProps,\r\n      secondaryButtonProps,\r\n      headline,\r\n      hasCondensedHeadline,\r\n      hasCloseIcon,\r\n      onDismiss,\r\n      closeButtonAriaLabel,\r\n      hasSmallHeadline,\r\n      isWide,\r\n      styles,\r\n      theme,\r\n      ariaDescribedBy,\r\n      ariaLabelledBy\r\n    } = this.props;\r\n\r\n    let imageContent;\r\n    let headerContent;\r\n    let bodyContent;\r\n    let footerContent;\r\n    let closeButton;\r\n\r\n    const classNames = getClassNames(styles, {\r\n      theme: theme!,\r\n      hasCondensedHeadline,\r\n      hasSmallHeadline,\r\n      isWide,\r\n      primaryButtonClassName: primaryButtonProps ? primaryButtonProps.className : undefined,\r\n      secondaryButtonClassName: secondaryButtonProps ? secondaryButtonProps.className : undefined\r\n    });\r\n\r\n    if (illustrationImage && illustrationImage.src) {\r\n      imageContent = (\r\n        <div className={classNames.imageContent}>\r\n          <Image {...illustrationImage as any} />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (headline) {\r\n      const HeaderWrapperAs = typeof headline === 'string' ? 'p' : 'div';\r\n\r\n      headerContent = (\r\n        <div className={classNames.header}>\r\n          <HeaderWrapperAs className={classNames.headline} id={ariaLabelledBy}>\r\n            {headline}\r\n          </HeaderWrapperAs>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (children) {\r\n      const BodyContentWrapperAs = typeof children === 'string' ? 'p' : 'div';\r\n\r\n      bodyContent = (\r\n        <div className={classNames.body}>\r\n          <BodyContentWrapperAs className={classNames.subText} id={ariaDescribedBy}>\r\n            {children}\r\n          </BodyContentWrapperAs>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (primaryButtonProps || secondaryButtonProps) {\r\n      footerContent = (\r\n        <div className={classNames.footer}>\r\n          {primaryButtonProps && <PrimaryButton {...primaryButtonProps} className={classNames.primaryButton} />}\r\n          {secondaryButtonProps && <DefaultButton {...secondaryButtonProps} className={classNames.secondaryButton} />}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (hasCloseIcon) {\r\n      closeButton = (\r\n        <IconButton\r\n          className={classNames.closeButton}\r\n          iconProps={{ iconName: 'Cancel' }}\r\n          title={closeButtonAriaLabel}\r\n          ariaLabel={closeButtonAriaLabel}\r\n          onClick={onDismiss}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={classNames.content}\r\n        ref={this.rootElement}\r\n        role={'dialog'}\r\n        tabIndex={-1}\r\n        aria-labelledby={ariaLabelledBy}\r\n        aria-describedby={ariaDescribedBy}\r\n        data-is-focusable={true}\r\n      >\r\n        {imageContent}\r\n        <div className={classNames.bodyContent}>\r\n          {headerContent}\r\n          {bodyContent}\r\n          {footerContent}\r\n        </div>\r\n        {closeButton}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private _onKeyDown = (e: any): void => {\r\n    if (this.props.onDismiss) {\r\n      if (e.which === KeyCodes.escape) {\r\n        this.props.onDismiss();\r\n      }\r\n    }\r\n  };\r\n}\r\n"]}