{"version":3,"file":"Persona.base.js","sourceRoot":"../src/","sources":["components/Persona/Persona.base.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { BaseComponent, classNamesFunction, divProperties, getNativeProps, IRenderFunction } from '../../Utilities';\r\nimport { TooltipHost, TooltipOverflowMode, DirectionalHint } from '../../Tooltip';\r\nimport { PersonaCoin } from './PersonaCoin/PersonaCoin';\r\nimport {\r\n  IPersonaProps,\r\n  IPersonaStyleProps,\r\n  IPersonaStyles,\r\n  PersonaPresence as PersonaPresenceEnum,\r\n  PersonaSize,\r\n  IPersonaCoinProps\r\n} from './Persona.types';\r\n\r\nconst getClassNames = classNamesFunction<IPersonaStyleProps, IPersonaStyles>();\r\n\r\n/**\r\n * Persona with no default styles.\r\n * [Use the `styles` API to add your own styles.](https://github.com/OfficeDev/office-ui-fabric-react/wiki/Styling)\r\n */\r\nexport class PersonaBase extends BaseComponent<IPersonaProps, {}> {\r\n  public static defaultProps: IPersonaProps = {\r\n    size: PersonaSize.size48,\r\n    presence: PersonaPresenceEnum.none,\r\n    imageAlt: ''\r\n  };\r\n\r\n  constructor(props: IPersonaProps) {\r\n    super(props);\r\n\r\n    this._warnDeprecations({ primaryText: 'text' });\r\n  }\r\n\r\n  public render(): JSX.Element {\r\n    // wrapping default render behavior based on various this.props properties\r\n    const _onRenderPrimaryText = this._onRenderText(this._getText()),\r\n      _onRenderSecondaryText = this._onRenderText(this.props.secondaryText),\r\n      _onRenderTertiaryText = this._onRenderText(this.props.tertiaryText),\r\n      _onRenderOptionalText = this._onRenderText(this.props.optionalText);\r\n\r\n    const {\r\n      hidePersonaDetails,\r\n      onRenderOptionalText = _onRenderOptionalText,\r\n      onRenderPrimaryText = _onRenderPrimaryText,\r\n      onRenderSecondaryText = _onRenderSecondaryText,\r\n      onRenderTertiaryText = _onRenderTertiaryText\r\n    } = this.props;\r\n    const size = this.props.size as PersonaSize;\r\n\r\n    // These properties are to be explicitly passed into PersonaCoin because they are the only props directly used\r\n    const {\r\n      allowPhoneInitials,\r\n      className,\r\n      coinProps,\r\n      showUnknownPersonaCoin,\r\n      coinSize,\r\n      styles,\r\n      imageAlt,\r\n      imageInitials,\r\n      imageShouldFadeIn,\r\n      imageShouldStartVisible,\r\n      imageUrl,\r\n      initialsColor,\r\n      onPhotoLoadingStateChange,\r\n      onRenderCoin,\r\n      onRenderInitials,\r\n      presence,\r\n      showInitialsUntilImageLoads,\r\n      showSecondaryText,\r\n      theme\r\n    } = this.props;\r\n\r\n    const personaCoinProps: IPersonaCoinProps = {\r\n      allowPhoneInitials,\r\n      showUnknownPersonaCoin,\r\n      coinSize,\r\n      imageAlt,\r\n      imageInitials,\r\n      imageShouldFadeIn,\r\n      imageShouldStartVisible,\r\n      imageUrl,\r\n      initialsColor,\r\n      onPhotoLoadingStateChange,\r\n      onRenderCoin,\r\n      onRenderInitials,\r\n      presence,\r\n      showInitialsUntilImageLoads,\r\n      size,\r\n      text: this._getText(),\r\n      ...coinProps\r\n    };\r\n\r\n    const classNames = getClassNames(styles, {\r\n      theme: theme!,\r\n      className,\r\n      showSecondaryText,\r\n      presence,\r\n      size\r\n    });\r\n\r\n    const divProps = getNativeProps(this.props, divProperties);\r\n    const personaDetails = (\r\n      <div className={classNames.details}>\r\n        {this._renderElement(classNames.primaryText, onRenderPrimaryText, _onRenderPrimaryText)}\r\n        {this._renderElement(classNames.secondaryText, onRenderSecondaryText, _onRenderSecondaryText)}\r\n        {this._renderElement(classNames.tertiaryText, onRenderTertiaryText, _onRenderTertiaryText)}\r\n        {this._renderElement(classNames.optionalText, onRenderOptionalText, _onRenderOptionalText)}\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n\r\n    return (\r\n      <div {...divProps} className={classNames.root} style={coinSize ? { height: coinSize, minWidth: coinSize } : undefined}>\r\n        <PersonaCoin {...personaCoinProps} />\r\n        {(!hidePersonaDetails || (size === PersonaSize.size10 || size === PersonaSize.tiny)) && personaDetails}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Renders various types of Text (primaryText, secondaryText, etc)\r\n   * based on the classNames passed\r\n   * @param classNames\r\n   * @param renderFunction\r\n   * @param defaultRenderFunction\r\n   */\r\n  private _renderElement(\r\n    classNames: string,\r\n    renderFunction: IRenderFunction<IPersonaProps> | undefined,\r\n    defaultRenderFunction: IRenderFunction<IPersonaProps> | undefined\r\n  ): JSX.Element {\r\n    return <div className={classNames}>{renderFunction && renderFunction(this.props, defaultRenderFunction)}</div>;\r\n  }\r\n\r\n  /**\r\n   * Deprecation helper for getting text.\r\n   */\r\n  private _getText(): string {\r\n    return this.props.text || this.props.primaryText || '';\r\n  }\r\n\r\n  /**\r\n   * using closure to wrap the default render behavior\r\n   * to make it independent of the type of text passed\r\n   * @param text\r\n   */\r\n  private _onRenderText(text: string | undefined): IRenderFunction<IPersonaProps> | undefined {\r\n    // return default render behaviour for valid text or undefined\r\n    return text\r\n      ? (): JSX.Element => {\r\n          // default onRender behaviour\r\n          return (\r\n            <TooltipHost content={text} overflowMode={TooltipOverflowMode.Parent} directionalHint={DirectionalHint.topLeftEdge}>\r\n              {text}\r\n            </TooltipHost>\r\n          );\r\n        }\r\n      : undefined;\r\n  }\r\n}\r\n"]}