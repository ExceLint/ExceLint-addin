{"version":3,"file":"Slider.base.js","sourceRoot":"../src/","sources":["components/Slider/Slider.base.tsx"],"names":[],"mappings":";;;AAAA,6BAA+B;AAC/B,6CAAiG;AAEjG,6CAAoF;AACpF,qCAAoC;AAOpC;;GAEG;AACH,IAAY,aAGX;AAHD,WAAY,aAAa;IACvB,yDAAY,CAAA;IACZ,iDAAQ,CAAA;AACV,CAAC,EAHW,aAAa,GAAb,qBAAa,KAAb,qBAAa,QAGxB;AAED,IAAM,aAAa,GAAG,8BAAkB,EAAoC,CAAC;AAC7E;IAAgC,sCAAyC;IAevE,oBAAY,KAAmB;QAA/B,YACE,kBAAM,KAAK,CAAC,SAcb;QAnBO,iBAAW,GAAG,KAAK,CAAC,SAAS,EAAkB,CAAC;QAChD,YAAM,GAAG,KAAK,CAAC,SAAS,EAAmB,CAAC;QAwG5C,uBAAiB,GAAG,UAAC,KAAyB;YACpD,IAAI,KAAI,CAAC,KAAK,CAAC,aAAa,IAAI,KAAK,KAAK,SAAS,EAAE;gBACnD,OAAO,KAAI,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;aACxC;QACH,CAAC,CAAC;QASM,8BAAwB,GAAG,UAAC,KAA8B;YAChE,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;gBAC9B,KAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,KAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;gBACzE,KAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,SAAS,EAAE,KAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;aACrE;iBAAM,IAAI,KAAK,CAAC,IAAI,KAAK,YAAY,EAAE;gBACtC,KAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,WAAW,EAAE,KAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;gBACzE,KAAI,CAAC,OAAO,CAAC,EAAE,CAAC,MAAM,EAAE,UAAU,EAAE,KAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAC;aACtE;YACD,KAAI,CAAC,uBAAuB,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;QAC5C,CAAC,CAAC;QAEM,6BAAuB,GAAG,UAAC,KAA8B,EAAE,wBAAkC;YACnG,IAAI,CAAC,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE;gBAC7B,OAAO;aACR;YAEK,IAAA,gBAA+B,EAA7B,YAAG,EAAE,YAAG,EAAE,cAAI,CAAgB;YACtC,IAAM,KAAK,GAAW,CAAC,GAAI,GAAG,GAAI,CAAC,GAAG,IAAK,CAAC;YAC5C,IAAM,kBAAkB,GAAe,KAAI,CAAC,WAAW,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;YACxF,IAAM,YAAY,GAAW,CAAC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,kBAAkB,CAAC,MAAM,CAAC;YACzG,IAAM,UAAU,GAAW,YAAY,GAAG,KAAK,CAAC;YAChD,IAAI,YAAgC,CAAC;YACrC,IAAI,QAA4B,CAAC;YAEjC,IAAI,CAAC,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACxB,IAAM,IAAI,GAAuB,KAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBAC/E,QAAQ,GAAG,kBAAM,EAAE,CAAC,CAAC,CAAC,kBAAkB,CAAC,KAAK,GAAG,IAAK,CAAC,CAAC,CAAC,IAAK,GAAG,kBAAkB,CAAC,IAAI,CAAC;gBACzF,YAAY,GAAG,QAAQ,GAAG,UAAU,CAAC;aACtC;iBAAM;gBACL,IAAM,MAAM,GAAuB,KAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;gBACjF,QAAQ,GAAG,kBAAkB,CAAC,MAAM,GAAG,MAAO,CAAC;gBAC/C,YAAY,GAAG,QAAQ,GAAG,UAAU,CAAC;aACtC;YAED,IAAI,YAAgC,CAAC;YACrC,IAAI,aAAiC,CAAC;YAEtC,iEAAiE;YACjE,IAAI,YAAa,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;gBACrC,aAAa,GAAG,YAAY,GAAG,GAAa,CAAC;aAC9C;iBAAM,IAAI,YAAa,GAAG,CAAC,EAAE;gBAC5B,aAAa,GAAG,YAAY,GAAG,GAAa,CAAC;aAC9C;iBAAM;gBACL,aAAa,GAAG,GAAI,GAAG,IAAK,GAAG,YAAa,CAAC;gBAC7C,YAAY,GAAG,GAAI,GAAG,IAAK,GAAG,IAAI,CAAC,KAAK,CAAC,YAAa,CAAC,CAAC;aACzD;YAED,KAAI,CAAC,YAAY,CAAC,YAAY,EAAE,aAAa,CAAC,CAAC;YAE/C,IAAI,CAAC,wBAAwB,EAAE;gBAC7B,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAK,CAAC,eAAe,EAAE,CAAC;aACzB;QACH,CAAC,CAAC;QA2CM,0BAAoB,GAAG,UAAC,KAA8B;YAC5D,qDAAqD;YACrD,KAAI,CAAC,QAAQ,CAAC;gBACZ,aAAa,EAAE,KAAI,CAAC,KAAK,CAAC,KAAK;aAChC,CAAC,CAAC;YAEH,IAAI,KAAI,CAAC,KAAK,CAAC,SAAS,EAAE;gBACxB,KAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,KAAI,CAAC,KAAK,CAAC,KAAe,CAAC,CAAC;aACzD;YAED,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACrB,CAAC,CAAC;QAEM,gBAAU,GAAG,UAAC,KAAoB;YACxC,IAAI,KAAK,GAAuB,KAAI,CAAC,KAAK,CAAC,KAAK,CAAC;YAC3C,IAAA,gBAA+B,EAA7B,YAAG,EAAE,YAAG,EAAE,cAAI,CAAgB;YAEtC,IAAI,IAAI,GAAuB,CAAC,CAAC;YAEjC,QAAQ,KAAK,CAAC,KAAK,EAAE;gBACnB,KAAK,6BAAiB,CAAC,oBAAQ,CAAC,IAAI,CAAC,CAAC;gBACtC,KAAK,oBAAQ,CAAC,IAAI;oBAChB,IAAI,GAAG,CAAE,IAAe,CAAC;oBACzB,MAAM;gBACR,KAAK,6BAAiB,CAAC,oBAAQ,CAAC,KAAK,CAAC,CAAC;gBACvC,KAAK,oBAAQ,CAAC,EAAE;oBACd,IAAI,GAAG,IAAI,CAAC;oBACZ,MAAM;gBAER,KAAK,oBAAQ,CAAC,IAAI;oBAChB,KAAK,GAAG,GAAG,CAAC;oBACZ,MAAM;gBAER,KAAK,oBAAQ,CAAC,GAAG;oBACf,KAAK,GAAG,GAAG,CAAC;oBACZ,MAAM;gBAER;oBACE,OAAO;aACV;YAED,IAAM,QAAQ,GAAW,IAAI,CAAC,GAAG,CAAC,GAAa,EAAE,IAAI,CAAC,GAAG,CAAC,GAAa,EAAE,KAAM,GAAG,IAAK,CAAC,CAAC,CAAC;YAE1F,KAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YAEtC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,KAAK,CAAC,eAAe,EAAE,CAAC;QAC1B,CAAC,CAAC;QA9PA,KAAI,CAAC,sBAAsB,CAAC;YAC1B,KAAK,EAAE,cAAc;SACtB,CAAC,CAAC;QAEH,KAAI,CAAC,GAAG,GAAG,iBAAK,CAAC,QAAQ,CAAC,CAAC;QAE3B,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,KAAK,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,KAAK,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;QAE1H,KAAI,CAAC,KAAK,GAAG;YACX,KAAK,EAAE,KAAK;YACZ,aAAa,EAAE,KAAK;SACrB,CAAC;;IACJ,CAAC;IAED;;OAEG;IACI,8CAAyB,GAAhC,UAAiC,QAAsB;QACrD,IAAI,QAAQ,CAAC,KAAK,KAAK,SAAS,EAAE;YAChC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAa,EAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAa,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;YAEjG,IAAI,CAAC,QAAQ,CAAC;gBACZ,KAAK,EAAE,KAAK;gBACZ,aAAa,EAAE,KAAK;aACrB,CAAC,CAAC;SACJ;IACH,CAAC;IAEM,2BAAM,GAAb;QACQ,IAAA,eAA8H,EAA5H,wBAAS,EAAE,wBAAS,EAAE,sBAAQ,EAAE,gBAAK,EAAE,YAAG,EAAE,YAAG,EAAE,wBAAS,EAAE,4BAAW,EAAE,sBAAQ,EAAE,4BAAW,EAAE,kBAAM,EAAE,gBAAK,CAAgB;QAC/H,IAAA,eAAqC,EAAnC,gBAAK,EAAE,gCAAa,CAAgB;QAC5C,IAAM,kBAAkB,GAAW,GAAG,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,aAAc,GAAG,GAAI,CAAC,GAAG,CAAC,GAAI,GAAG,GAAI,CAAC,CAAC,GAAG,GAAG,CAAC;QACrG,IAAM,YAAY,GAAG,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC;QACnD,IAAM,eAAe,GAAO,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAC3F,IAAM,gBAAgB,GAAO,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,YAAY,EAAE,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAC7F,IAAM,aAAa,GAAO,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC;QACzE,IAAM,UAAU,GAAG,aAAa,CAAC,MAAM,EAAE;YACvC,SAAS,WAAA;YACT,QAAQ,UAAA;YACR,QAAQ,UAAA;YACR,eAAe,EAAE,aAAa,KAAK,KAAK;YACxC,SAAS,WAAA;YACT,KAAK,EAAE,KAAM;SACd,CAAC,CAAC;QACH,IAAM,cAAc,GAAG,WAAW,CAAC,CAAC,CAAC,0BAAc,CAAC,WAAW,EAAE,yBAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;QAE5F,OAAO,CACL,6BAAK,SAAS,EAAE,UAAU,CAAC,IAAI;YAC5B,KAAK,IAAI,CACR,oBAAC,aAAK,qBAAC,SAAS,EAAE,UAAU,CAAC,UAAU,IAAM,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,GAAG,EAAE,CAAC,GAClF,KAAK,CACA,CACT;YACD,6BAAK,SAAS,EAAE,UAAU,CAAC,SAAS;gBAClC,+DACiB,KAAK,mBACL,GAAG,mBACH,GAAG,oBACF,IAAI,CAAC,iBAAiB,CAAC,KAAK,CAAC,gBACjC,SAAS,IAAI,KAAK,mBACf,QAAQ,IACnB,eAAe,EACf,gBAAgB,EAChB,aAAa,EACb,cAAc,IAClB,SAAS,EAAE,eAAG,CAAC,UAAU,CAAC,QAAQ,EAAE,WAAY,CAAC,SAAS,CAAC,EAC3D,EAAE,EAAE,IAAI,CAAC,GAAG,EACZ,IAAI,EAAC,QAAQ,EACb,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,uBACf,CAAC,QAAQ;oBAE5B,6BAAK,GAAG,EAAE,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,UAAU,CAAC,IAAI;wBACpD,8BAAM,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,kBAAkB,CAAC,GAAI;wBACjH,8BACE,SAAS,EAAE,eAAG,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,aAAa,CAAC,EAClE,KAAK,YAAI,GAAC,YAAY,IAAG,kBAAkB,GAAG,GAAG,QACjD;wBACF,8BACE,SAAS,EAAE,eAAG,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,eAAe,CAAC,EACpE,KAAK,YAAI,GAAC,YAAY,IAAG,GAAG,GAAG,kBAAkB,GAAG,GAAG,QACvD,CACE,CACF;gBACL,SAAS,IAAI,oBAAC,aAAK,IAAC,SAAS,EAAE,UAAU,CAAC,UAAU,IAAG,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC,KAAM,CAAC,CAAC,CAAC,CAAC,KAAK,CAAS,CACtG,CACF,CACmB,CAAC;;IAC9B,CAAC;IACM,0BAAK,GAAZ;QACE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;YACvB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,sBAAW,6BAAK;aAAhB;YACE,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAC1B,CAAC;;;OAAA;IAQO,mCAAc,GAAtB,UAAuB,QAA6B,EAAE,kBAA0B;QAC9E,IAAM,SAAS,GAAW,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,kBAAM,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC;QAC5E;YACE,GAAC,SAAS,IAAG,kBAAkB,GAAG,GAAG;eACrC;;IACJ,CAAC;IAyDO,iCAAY,GAApB,UAAqB,KAA8B,EAAE,QAA6B;QAChF,IAAI,eAAmC,CAAC;QACxC,QAAQ,KAAK,CAAC,IAAI,EAAE;YAClB,KAAK,WAAW,CAAC;YACjB,KAAK,WAAW;gBACd,eAAe,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAE,KAAoB,CAAC,OAAO,CAAC,CAAC,CAAE,KAAoB,CAAC,OAAO,CAAC;gBAC5F,MAAM;YACR,KAAK,YAAY,CAAC;YAClB,KAAK,WAAW;gBACd,eAAe,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAE,KAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAE,KAAoB,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBAClH,MAAM;SACT;QACD,OAAO,eAAe,CAAC;IACzB,CAAC;IACO,iCAAY,GAApB,UAAqB,KAAa,EAAE,aAAqB;QAAzD,iBAyBC;QAxBS,IAAA,sBAAI,CAAgB;QAE5B,IAAI,MAAM,GAAG,CAAC,CAAC;QACf,IAAI,QAAQ,CAAC,IAAK,CAAC,EAAE;YACnB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAK,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,KAAK,IAAK,EAAE;gBAChF,MAAM,EAAE,CAAC;aACV;SACF;QAED,2FAA2F;QAC3F,IAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;QACvD,IAAM,YAAY,GAAG,YAAY,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;QAEvD,IAAI,CAAC,QAAQ,CACX;YACE,KAAK,EAAE,YAAY;YACnB,aAAa,eAAA;SACd,EACD;YACE,IAAI,YAAY,IAAI,KAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvC,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,KAAI,CAAC,KAAK,CAAC,KAAe,CAAC,CAAC;aACjD;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IA9Na,uBAAY,GAAiB;QACzC,IAAI,EAAE,CAAC;QACP,GAAG,EAAE,CAAC;QACN,GAAG,EAAE,EAAE;QACP,SAAS,EAAE,IAAI;QACf,QAAQ,EAAE,KAAK;QACf,QAAQ,EAAE,KAAK;QACf,WAAW,EAAE,EAAE;KAChB,CAAC;IAwQJ,iBAAC;CAAA,AAjRD,CAAgC,yBAAa,GAiR5C;AAjRY,gCAAU","sourcesContent":["import * as React from 'react';\r\nimport { BaseComponent, KeyCodes, css, getId, getRTL, getRTLSafeKeyCode } from '../../Utilities';\r\nimport { ISliderProps, ISlider, ISliderStyleProps, ISliderStyles } from './Slider.types';\r\nimport { classNamesFunction, getNativeProps, divProperties } from '../../Utilities';\r\nimport { Label } from '../../Label';\r\n\r\nexport interface ISliderState {\r\n  value?: number;\r\n  renderedValue?: number;\r\n}\r\n\r\n/**\r\n * @deprecated Unused.\r\n */\r\nexport enum ValuePosition {\r\n  Previous = 0,\r\n  Next = 1\r\n}\r\n\r\nconst getClassNames = classNamesFunction<ISliderStyleProps, ISliderStyles>();\r\nexport class SliderBase extends BaseComponent<ISliderProps, ISliderState> implements ISlider {\r\n  public static defaultProps: ISliderProps = {\r\n    step: 1,\r\n    min: 0,\r\n    max: 10,\r\n    showValue: true,\r\n    disabled: false,\r\n    vertical: false,\r\n    buttonProps: {}\r\n  };\r\n\r\n  private _sliderLine = React.createRef<HTMLDivElement>();\r\n  private _thumb = React.createRef<HTMLSpanElement>();\r\n  private _id: string;\r\n\r\n  constructor(props: ISliderProps) {\r\n    super(props);\r\n\r\n    this._warnMutuallyExclusive({\r\n      value: 'defaultValue'\r\n    });\r\n\r\n    this._id = getId('Slider');\r\n\r\n    const value = props.value !== undefined ? props.value : props.defaultValue !== undefined ? props.defaultValue : props.min;\r\n\r\n    this.state = {\r\n      value: value,\r\n      renderedValue: value\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Invoked when a component is receiving new props. This method is not called for the initial render.\r\n   */\r\n  public componentWillReceiveProps(newProps: ISliderProps): void {\r\n    if (newProps.value !== undefined) {\r\n      const value = Math.max(newProps.min as number, Math.min(newProps.max as number, newProps.value));\r\n\r\n      this.setState({\r\n        value: value,\r\n        renderedValue: value\r\n      });\r\n    }\r\n  }\r\n\r\n  public render(): React.ReactElement<{}> {\r\n    const { ariaLabel, className, disabled, label, max, min, showValue, buttonProps, vertical, valueFormat, styles, theme } = this.props;\r\n    const { value, renderedValue } = this.state;\r\n    const thumbOffsetPercent: number = min === max ? 0 : ((renderedValue! - min!) / (max! - min!)) * 100;\r\n    const lengthString = vertical ? 'height' : 'width';\r\n    const onMouseDownProp: {} = disabled ? {} : { onMouseDown: this._onMouseDownOrTouchStart };\r\n    const onTouchStartProp: {} = disabled ? {} : { onTouchStart: this._onMouseDownOrTouchStart };\r\n    const onKeyDownProp: {} = disabled ? {} : { onKeyDown: this._onKeyDown };\r\n    const classNames = getClassNames(styles, {\r\n      className,\r\n      disabled,\r\n      vertical,\r\n      showTransitions: renderedValue === value,\r\n      showValue,\r\n      theme: theme!\r\n    });\r\n    const divButtonProps = buttonProps ? getNativeProps(buttonProps, divProperties) : undefined;\r\n\r\n    return (\r\n      <div className={classNames.root}>\r\n        {label && (\r\n          <Label className={classNames.titleLabel} {...(ariaLabel ? {} : { htmlFor: this._id })}>\r\n            {label}\r\n          </Label>\r\n        )}\r\n        <div className={classNames.container}>\r\n          <div\r\n            aria-valuenow={value}\r\n            aria-valuemin={min}\r\n            aria-valuemax={max}\r\n            aria-valuetext={this._getAriaValueText(value)}\r\n            aria-label={ariaLabel || label}\r\n            aria-disabled={disabled}\r\n            {...onMouseDownProp}\r\n            {...onTouchStartProp}\r\n            {...onKeyDownProp}\r\n            {...divButtonProps}\r\n            className={css(classNames.slideBox, buttonProps!.className)}\r\n            id={this._id}\r\n            role=\"slider\"\r\n            tabIndex={disabled ? undefined : 0}\r\n            data-is-focusable={!disabled}\r\n          >\r\n            <div ref={this._sliderLine} className={classNames.line}>\r\n              <span ref={this._thumb} className={classNames.thumb} style={this._getThumbStyle(vertical, thumbOffsetPercent)} />\r\n              <span\r\n                className={css(classNames.lineContainer, classNames.activeSection)}\r\n                style={{ [lengthString]: thumbOffsetPercent + '%' }}\r\n              />\r\n              <span\r\n                className={css(classNames.lineContainer, classNames.inactiveSection)}\r\n                style={{ [lengthString]: 100 - thumbOffsetPercent + '%' }}\r\n              />\r\n            </div>\r\n          </div>\r\n          {showValue && <Label className={classNames.valueLabel}>{valueFormat ? valueFormat(value!) : value}</Label>}\r\n        </div>\r\n      </div>\r\n    ) as React.ReactElement<{}>;\r\n  }\r\n  public focus(): void {\r\n    if (this._thumb.current) {\r\n      this._thumb.current.focus();\r\n    }\r\n  }\r\n\r\n  public get value(): number | undefined {\r\n    return this.state.value;\r\n  }\r\n\r\n  private _getAriaValueText = (value: number | undefined): string | undefined => {\r\n    if (this.props.ariaValueText && value !== undefined) {\r\n      return this.props.ariaValueText(value);\r\n    }\r\n  };\r\n\r\n  private _getThumbStyle(vertical: boolean | undefined, thumbOffsetPercent: number): any {\r\n    const direction: string = vertical ? 'bottom' : getRTL() ? 'right' : 'left';\r\n    return {\r\n      [direction]: thumbOffsetPercent + '%'\r\n    };\r\n  }\r\n\r\n  private _onMouseDownOrTouchStart = (event: MouseEvent | TouchEvent): void => {\r\n    if (event.type === 'mousedown') {\r\n      this._events.on(window, 'mousemove', this._onMouseMoveOrTouchMove, true);\r\n      this._events.on(window, 'mouseup', this._onMouseUpOrTouchEnd, true);\r\n    } else if (event.type === 'touchstart') {\r\n      this._events.on(window, 'touchmove', this._onMouseMoveOrTouchMove, true);\r\n      this._events.on(window, 'touchend', this._onMouseUpOrTouchEnd, true);\r\n    }\r\n    this._onMouseMoveOrTouchMove(event, true);\r\n  };\r\n\r\n  private _onMouseMoveOrTouchMove = (event: MouseEvent | TouchEvent, suppressEventCancelation?: boolean): void => {\r\n    if (!this._sliderLine.current) {\r\n      return;\r\n    }\r\n\r\n    const { max, min, step } = this.props;\r\n    const steps: number = (max! - min!) / step!;\r\n    const sliderPositionRect: ClientRect = this._sliderLine.current.getBoundingClientRect();\r\n    const sliderLength: number = !this.props.vertical ? sliderPositionRect.width : sliderPositionRect.height;\r\n    const stepLength: number = sliderLength / steps;\r\n    let currentSteps: number | undefined;\r\n    let distance: number | undefined;\r\n\r\n    if (!this.props.vertical) {\r\n      const left: number | undefined = this._getPosition(event, this.props.vertical);\r\n      distance = getRTL() ? sliderPositionRect.right - left! : left! - sliderPositionRect.left;\r\n      currentSteps = distance / stepLength;\r\n    } else {\r\n      const bottom: number | undefined = this._getPosition(event, this.props.vertical);\r\n      distance = sliderPositionRect.bottom - bottom!;\r\n      currentSteps = distance / stepLength;\r\n    }\r\n\r\n    let currentValue: number | undefined;\r\n    let renderedValue: number | undefined;\r\n\r\n    // The value shouldn't be bigger than max or be smaller than min.\r\n    if (currentSteps! > Math.floor(steps)) {\r\n      renderedValue = currentValue = max as number;\r\n    } else if (currentSteps! < 0) {\r\n      renderedValue = currentValue = min as number;\r\n    } else {\r\n      renderedValue = min! + step! * currentSteps!;\r\n      currentValue = min! + step! * Math.round(currentSteps!);\r\n    }\r\n\r\n    this._updateValue(currentValue, renderedValue);\r\n\r\n    if (!suppressEventCancelation) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  private _getPosition(event: MouseEvent | TouchEvent, vertical: boolean | undefined): number | undefined {\r\n    let currentPosition: number | undefined;\r\n    switch (event.type) {\r\n      case 'mousedown':\r\n      case 'mousemove':\r\n        currentPosition = !vertical ? (event as MouseEvent).clientX : (event as MouseEvent).clientY;\r\n        break;\r\n      case 'touchstart':\r\n      case 'touchmove':\r\n        currentPosition = !vertical ? (event as TouchEvent).touches[0].clientX : (event as TouchEvent).touches[0].clientY;\r\n        break;\r\n    }\r\n    return currentPosition;\r\n  }\r\n  private _updateValue(value: number, renderedValue: number): void {\r\n    const { step } = this.props;\r\n\r\n    let numDec = 0;\r\n    if (isFinite(step!)) {\r\n      while (Math.round(step! * Math.pow(10, numDec)) / Math.pow(10, numDec) !== step!) {\r\n        numDec++;\r\n      }\r\n    }\r\n\r\n    // Make sure value has correct number of decimal places based on number of decimals in step\r\n    const roundedValue = parseFloat(value.toFixed(numDec));\r\n    const valueChanged = roundedValue !== this.state.value;\r\n\r\n    this.setState(\r\n      {\r\n        value: roundedValue,\r\n        renderedValue\r\n      },\r\n      () => {\r\n        if (valueChanged && this.props.onChange) {\r\n          this.props.onChange(this.state.value as number);\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  private _onMouseUpOrTouchEnd = (event: MouseEvent | TouchEvent): void => {\r\n    // Synchronize the renderedValue to the actual value.\r\n    this.setState({\r\n      renderedValue: this.state.value\r\n    });\r\n\r\n    if (this.props.onChanged) {\r\n      this.props.onChanged(event, this.state.value as number);\r\n    }\r\n\r\n    this._events.off();\r\n  };\r\n\r\n  private _onKeyDown = (event: KeyboardEvent): void => {\r\n    let value: number | undefined = this.state.value;\r\n    const { max, min, step } = this.props;\r\n\r\n    let diff: number | undefined = 0;\r\n\r\n    switch (event.which) {\r\n      case getRTLSafeKeyCode(KeyCodes.left):\r\n      case KeyCodes.down:\r\n        diff = -(step as number);\r\n        break;\r\n      case getRTLSafeKeyCode(KeyCodes.right):\r\n      case KeyCodes.up:\r\n        diff = step;\r\n        break;\r\n\r\n      case KeyCodes.home:\r\n        value = min;\r\n        break;\r\n\r\n      case KeyCodes.end:\r\n        value = max;\r\n        break;\r\n\r\n      default:\r\n        return;\r\n    }\r\n\r\n    const newValue: number = Math.min(max as number, Math.max(min as number, value! + diff!));\r\n\r\n    this._updateValue(newValue, newValue);\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n  };\r\n}\r\n"]}